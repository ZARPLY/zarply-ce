' FIrstly install the plantUML extension
' The right click anywhere inline with the code in the file and select "PlantUML: Preview Diagram"

@startuml
title ZARPLY Wallet App - Full User Flow

start

:Login Screen;

if ("User choice") then ([Create New Wallet])
  :Backup your wallet;
  :View Wallet Private Keys;
  :Home Screen;
elseif ([I already have a wallet])
  :Restore Wallet (Enter Phrase);
  :Create Password;
  :Home Screen;
endif

:Home Screen;

partition "Home Options" {
  fork
    :Scan QR;
    :Open Camera;
    :Payment Confirmation;
    :Payment Made;
    :Home Screen;
  fork again
    :More;
    note right
      To be elaborated later
    end note
    :Home Screen;
  fork again
    :Info;
    note right
      To be elaborated later
    end note
    :Home Screen;
  fork again
    if ("ZARPLY Logo Action") then ([Pay])
      :Enter Recipient Address;
      :Enter Amount to Pay;
      :Confirm Amount;
      :Home Screen;
    else ([Request])
      :Enter Requested Amount;
      :Confirm Requested Amount;
      :Display QR Code;
      :Done Clicked;
      :Home Screen;
    endif
  end fork
}

stop
@enduml

@startuml
title ZARPLY Wallet App - Flow with More Options (BIP39 & Private Keys)

start

label login_screen
:Login Screen;

if ("User choice") then ([Create New Wallet])
  :Backup your wallet;
  :View Wallet Private Keys;
  --> :Home Screen;
elseif ([I already have a wallet])
  :Restore Wallet (Enter Phrase);
  :Create Password;
  --> :Home Screen;
endif

:Home Screen;

partition "Home Options" {
  fork
    :Scan QR;
    :Open Camera;
    :Payment Confirmation;
    :Payment Made;
    --> :Home Screen;
  fork again
    :More;
    :More Options Page;
    fork
      :BIP39 Recovery Phrase;
      :Prompt to Unlock Wallet;
      :Display BIP39 Recovery Phrase;
      :Close;
      --> :More Options Page;
    fork again
      :View Private Keys;
      :Prompt to Unlock Wallet;
      :Display Private Keys;
      :Close;
      --> :More Options Page;
    end fork
    --> :Home Screen;
  fork again
    :Info;
    note right
      To be elaborated later
    end note
    --> :Home Screen;
  fork again
    if ("ZARPLY Logo Action") then ([Pay])
      :Enter Recipient Address;
      :Enter Amount to Pay;
      :Confirm Amount;
      --> :Home Screen;
    else ([Request])
      :Enter Requested Amount;
      :Confirm Requested Amount;
      :Display QR Code;
      :Done Clicked;
      --> :Home Screen;
    endif
  fork again
    :Profile;
    :Logout;
    -up-> login_screen
  end fork
}

stop
@enduml
